# **TIL (2022.02.10)**

## DAY 20 & DAY 21

ğŸ‡ ì˜¤ëŠ˜ ì½ì€ ë²”ìœ„: (10ì¥) í´ë˜ìŠ¤

```
ğŸ˜€ ì±…ì—ì„œ ê¸°ì–µí•˜ê³  ì‹¶ì€ ë‚´ìš©ì„ ì¨ë³´ì„¸ìš”
```

- **í´ë˜ìŠ¤ëŠ” ì‘ì•„ì•¼ í•œë‹¤!**

  ```
  // Bad Practice
  public class SuperDashboard extends JFrame implements MetaDataUser {
      public Component getLastFocusedComponent();
      public void setLastFocused(Component lastFocused);
      public int getMajorVersionNumber();
      public int getMinorVersionNumber();
      public int getBuildNumber();
  }
  ```

  - SuperDashboardëŠ” 2ê°€ì§€ ì±…ì„ì„ ê°€ì§€ê³  ìˆìŒ. â¡ï¸ ë‹¨ì¼ ì±…ì„ ì›ì¹™ì„ ìœ„ë°˜í•¨.

    - ë²„ì „ ì •ë³´ë¥¼ ì¶”ì í•  ì±…ì„
    - ìë°” ìŠ¤ìœ™ ì»´í¬ë„ŒíŠ¸ë¥¼ ê´€ë¦¬í•  ì±…ì„

  - í° í´ë˜ìŠ¤ ëª‡ ê°œê°€ ì•„ë‹ˆë¼ ì‘ì€ í´ë˜ìŠ¤ ì—¬ëŸ¿ìœ¼ë¡œ ì´ë£¨ì–´ì§„ í´ë˜ìŠ¤ê°€ ë°”ëŒì§í•¨. ì‘ì€ í´ë˜ìŠ¤ëŠ” ê°ì ë§¡ì€ ì±…ì„ì´ í•˜ë‚˜ë©°, ë³€ê²½í•  ì´ìœ ê°€ í•˜ë‚˜ë©°, ë‹¤ë¥¸ ì‘ì€ í´ë˜ìŠ¤ì™€ í˜‘ë ¥í•´ ì‹œìŠ¤í…œì— í•„ìš”í•œ ë™ì‘ì„ ìˆ˜í–‰í•¨.

  > ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ëŒì•„ê°€ê²Œ ë§Œë“œëŠ” í™œë™ê³¼ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ê¹¨ë—í•˜ê²Œ ë§Œë“œëŠ” í™œë™ì€ ì™„ì „íˆ ë³„ê°œë‹¤. ìš°ë¦¬ë“¤ ëŒ€ë‹¤ìˆ˜ëŠ” ë‘ë‡Œ ìš©ëŸ‰ì— í•œê³„ê°€ ìˆì–´ 'ê¹¨ë—í•˜ê³  ì²´ê³„ì ì¸ ì†Œí”„íŠ¸ì›¨ì–´'ë³´ë‹¤ 'ëŒì•„ê°€ëŠ” ì†Œí”„íŠ¸ì›¨ì–´'ì— ì´ˆì ì„ ë§ì¶˜ë‹¤. ì „ì ìœ¼ë¡œ ì˜¬ë°”ë¥¸ íƒœë„ë‹¤. ë¬¸ì œëŠ” ìš°ë¦¬ë“¤ ëŒ€ë‹¤ìˆ˜ê°€ í”„ë¡œê·¸ë¨ì´ ëŒì•„ê°€ë©´ ì¼ì´ ëë‚¬ë‹¤ê³  ì—¬ê¸°ëŠ” ë° ìˆë‹¤. í”„ë¡œê·¸ë¨ìœ¼ë¡œ ë˜ëŒì•„ê°€ ë§ŒëŠ¥ í´ë˜ìŠ¤ë¥¼ ë‹¨ì¼ ì±…ì„ í´ë˜ìŠ¤ ì—¬ëŸ¿ìœ¼ë¡œ ë¶„ë¦¬í•˜ëŠ” ëŒ€ì‹  ë‹¤ìŒ ë¬¸ì œë¡œ ë„˜ì–´ê°€ë²„ë¦°ë‹¤.

  - ì‘ì§‘ë„

    - í•˜ë‚˜ì˜ ë³€ê²½ì— ëŒ€í•´ í•˜ë‚˜ì˜ ëª¨ë“ˆë§Œ ë³€ê²½ëœë‹¤ë©´ ì‘ì§‘ë„ê°€ ë†’ì§€ë§Œ ë‹¤ìˆ˜ì˜ ëª¨ë“ˆì´ í•¨ê»˜ ë³€ê²½ë¼ì•¼ í•œë‹¤ë©´ ì‘ì§‘ë„ê°€ ë‚®ì€ ê²ƒì„. [ì˜¤ë¸Œì íŠ¸ p.110]
      <br>â¡ï¸ ì„œë¡œ ë‹¤ë¥¸ ì´ìœ ë¡œ ë³€ê²½ë˜ëŠ” ì½”ë“œê°€ í•˜ë‚˜ì˜ ëª¨ë“ˆ ì•ˆì— ê³µì¡´í•  ë•Œ ì‘ì§‘ë„ê°€ ë‚®ìŒ.

    <br>

  - ì¼ë°˜ì ìœ¼ë¡œ ë©”ì„œë“œê°€ ë³€ìˆ˜ë¥¼ ë” ë§ì´ ì‚¬ìš©í• ìˆ˜ë¡ ë©”ì„œë“œì™€ í´ë˜ìŠ¤ëŠ” ì‘ì§‘ë„ê°€ ë” ë†’ìŒ.

    ```
    public class Stack {
      private int topOfStack = 0;
      List<Integer> elements = new LinkedList<Integer>();

      public int size() {
        return topOfStack;
      }

      public void push(int element) {
        topOfStack++;
        elements.add(element);
      }

      public int pop() throws PoppedWhenEmpty {
        if (topOfStack == 0)
          throw new PoppedWhenEmpty();
        int element = elements.get(--topOfStack);
        ...
      }

    }
    ```

  - í° í•¨ìˆ˜ë¥¼ ì‘ì€ í•¨ìˆ˜ë¡œ ìª¼ê°œë‹¤ ë³´ë©´ ëª‡ëª‡ í•¨ìˆ˜ë§Œ ì‚¬ìš©í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ê°€ ëŠ˜ì–´ë‚  ìˆ˜ ìˆìŒ. <br>â¡ï¸ ë…ìì ì¸ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•´ë¼!

        ```
        // Bad Practice

        package literatePrimes;

        public class PrintPrimes {
            public static void main(String[] args) {
                final int M = 1000;
                final int RR = 50;
                final int CC = 4;
                final int WW = 10;
                final int ORDMAX = 30;
                int P[] = new int[M + 1];
                int PAGENUMBER;
                int PAGEOFFSET;
                int ROWOFFSET;
                int C;
                int J;
                int K;
                boolean JPRIME;
                int ORD;
                int SQUARE;
                int N;
                int MULT[] = new int[ORDMAX + 1];
                J = 1;
                K = 1;
                P[1] = 2;
                ORD = 2;
                SQUARE = 9;

                while (K < M) {
                    do {
                        J = J + 2;
                        if (J == SQUARE) {
                            ORD = ORD + 1;
                            SQUARE = P[ORD] * P[ORD];
                            MULT[ORD - 1] = J;
                        }
                        N = 2;
                        JPRIME = true;
                        while (N < ORD && JPRIME) {
                            while (MULT[N] < J)
                                MULT[N] = MULT[N] + P[N] + P[N];
                            if (MULT[N] == J)
                                JPRIME = false;
                            N = N + 1;
                        }
                    } while (!JPRIME);
                    K = K + 1;
                    P[K] = J;
                } {
                    PAGENUMBER = 1;
                    PAGEOFFSET = 1;
                    while (PAGEOFFSET <= M) {
                        System.out.println("The First " + M +
                            " Prime Numbers --- Page " + PAGENUMBER);
                        System.out.println("");
                        for (ROWOFFSET = PAGEOFFSET; ROWOFFSET < PAGEOFFSET + RR; ROWOFFSET++) {
                            for (C = 0; C < CC; C++)
                                if (ROWOFFSET + C * RR <= M)
                                    System.out.format("%10d", P[ROWOFFSET + C * RR]);
                            System.out.println("");
                        }
                        System.out.println("\f");
                        PAGENUMBER = PAGENUMBER + 1;
                        PAGEOFFSET = PAGEOFFSET + RR * CC;
                    }
                }
            }
        }
        ```

    - PrintPrimesëŠ” ì„¸ ê°€ì§€ ì±…ì„ì„ ê°€ì§€ê³  ìˆìŒ.

      - ì‹¤í–‰ í™˜ê²½ì— ëŒ€í•œ ì±…ì„
      - ì†Œìˆ˜ ëª©ë¡ì„ ìƒì„±í•  ì±…ì„
      - ìˆ«ì ëª©ë¡ì„ ì£¼ì–´ì§„ í–‰ê³¼ ì—´ì— ë§ì¶° í˜ì´ì§€ì— ì¶œë ¥í•  ì±…ì„

      <br>

    ```
    // Good Practice

    package literatePrimes;

    public class PrimePrinter {
        public static void main(String[] args) {
          final int NUMBER_OF_PRIMES = 1000;
          int primes[] = PrimeGenerator.generate(NUMBER_OF_PRIMES);

          final int ROWS_PER_PAGE = 50;
          final int COLUMNS_PER_PAGE = 4;
          RowColumnPagePrinter tablePrinter =
            new RowColumnpagePrinter(ROWS_PER_PAGE, COLUMNS_PER_PAGE, "Header");
          tablePrinter.print(primes);
        }
    }
    ---
    package literatePrimes;

    public class PrimeGenerator {
      private static int[] primes;
      private static ArrayList<Integer> multiplesOfPrimeFactors;

      protected static int[] generate(int n) {
        primes = new int[n];
        multiplesOfPrimeFactors = new ArrayList<Integer>();
        set2AsFirstPrime();
        checkOddNumbersForSubsequentPrimes();
        return primes;
      }

      private static void set2AsFirstPrime() {}
      private static void checkOddNumbersForSubsequentPrimes() {}
    }
    ---
    package literatePrimes;

    public class RowColumnPagePrinter {
      private int rowsPerPage;
      private int columsPerPage;
      private int numbersPerPage;
      private String pageHeader;
      private PrintStream printStream;

      public RowColumnPagePrinter(int rowsPerPage, int columnsPerPage, String pageHeader) { ... }

      public void print(int data[]) {
        int pageNumber = 1;
        for (int firstIndexOnPage = 0; firstIndexOnPage < data.length; ...) {
          ...
        }
        printPageHeader(pageHeader, pageNumber)
        printPage(firstIndexOnPage, lastIndexOnPage, data);
        printStream.println("\f");
        pageNumber++;
      }

      private void printPageHeader() {}
      private void printPage() {}
    }
    ```

    <br>

- **ì¶”êµ¬í•´ì•¼ í•  ë¦¬íŒ©í„°ë§ ë°©ì‹**
  1.  ì›ë˜ í”„ë¡œê·¸ë¨ì˜ ì •í™•í•œ ë™ì‘ì„ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ ìŠˆíŠ¸ ì‘ì„±
  2.  í•œ ë²ˆì— í•˜ë‚˜ì”© ìˆ˜ ì°¨ë¡€ì— ê±¸ì³ ì½”ë“œë¥¼ ì¡°ê¸ˆì”© ë³€ê²½
      - ë³€ê²½í•  ë•Œë§ˆë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•´ ì›ë˜ í”„ë¡œê·¸ë¨ê³¼ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸

<br>

- **ë³€ê²½í•˜ê¸° ì‰¬ìš´ í´ë˜ìŠ¤**

  ```
  // Bad Practice

  public class Sql {
    public String create()
    public String insert(Object[] fields)
    public String selectAll()
    public String select(Column column, String pattern)
    public String select (Criteria criteria)
    ...
  }
  ```

  ```
  // Good Practice

  abstract public class Sql {
    abstract public String generate()
  }

  public class CreateSql extends Sql {
    @Override public String generate()
  }

  public class InsertSql extends Sql {
    @Override public String generate()
    private String valuesList() {}
  }

  public class SelectWithCriteriaSql extends Sql {
    @Override public String generate()
  }

  public class SelectWithMatchSql extends Sql {
    @Override public String generate()
  }
  ```

  - SRPì™€ OCPë¥¼ ëª¨ë‘ ì§€ì›í•¨.
  - ìƒˆ ê¸°ëŠ¥ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ê¸°ì¡´ ê¸°ëŠ¥ì„ ë³€ê²½í•  ë•Œ ê±´ë“œë¦´ ì½”ë“œê°€ ìµœì†Œì¸ ì‹œìŠ¤í…œ êµ¬ì¡°ê°€ ë°”ëŒì§í•¨. ì´ìƒì ì¸ ì‹œìŠ¤í…œì´ë¼ë©´ ìƒˆ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œ ì‹œìŠ¤í…œì„ í™•ì¥í•  ë¿ ê¸°ì¡´ ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•ŠìŒ.

  - ì¸í„°í˜ì´ìŠ¤ì™€ ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•´ êµ¬í˜„ì´ ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ê²©ë¦¬í•´ì•¼ í•¨.

    ```
    // Bad Practice

    // ì™¸ë¶€ TokyoStockExchange APIë¥¼ ì‚¬ìš©í•´ í¬íŠ¸í´ë¦¬ì˜¤ ê°’ ê³„ì‚°í•˜ëŠ” ê²½ìš°,
    // Portfolio í´ë˜ìŠ¤ì—ì„œ TokyoStockExchange APIë¥¼ ì§ì ‘ í˜¸ì¶œ
    ```

    ```
    // Good Practice

    // Portfolio í´ë˜ìŠ¤ëŠ” TokyoStockExchange êµ¬í˜„ í´ë˜ìŠ¤ì— ì˜ì¡´ X
    // StockExchange ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´

    public interface StockExchange {
      Money currentPrice(String symbol);
    }

    public Portfolio {
      private StockExchange stockExchange;
      public Portfolio(StockExchange exchange) {
        this.exchange = exchange;
      }
    }
    ```

    - ì¶”ìƒí™”ë¥¼ í†µí•´ ì‹¤ì œ ì£¼ê°€ë¥¼ ì–»ì–´ì˜¤ëŠ” ì¶œì²˜ë‚˜ ë°©ì‹ ë“±ê³¼ ê°™ì€ êµ¬ì²´ì ì¸ ì‚¬ì‹¤ì„ ëª¨ë‘ ìˆ¨ê¹€.

<br>

- ì‹¤ì œë¡œ ì½”ë“œ ê°œì„ ì— ë›°ì–´ë“œëŠ” ê³„ê¸°ëŠ” ì‹œìŠ¤í…œì— ë³€ê²½ì´ í•„ìš”í•  ë•Œë§Œì„. êµ¬í˜„í•œ í´ë˜ìŠ¤ê°€ ë…¼ë¦¬ì ìœ¼ë¡œ ì™„ì„±ìœ¼ë¡œ ì—¬ê¸´ë‹¤ë©´ ì±…ì„ì„ ë¶„ë¦¬í•˜ë ¤ ì‹œë„í•  í•„ìš”ê°€ ì—†ìŒ. ê°€ê¹Œìš´ ì¥ë˜ì— ë³€ê²½ì´ í•„ìš”í•˜ì§€ ì•Šë‹¤ë©´ êµ¬í˜„í•œ í´ë˜ìŠ¤ë¥¼ ê·¸ëŒ€ë¡œ ë‚´ë²„ë ¤ ë‘ëŠ” í¸ì´ ì¢‹ìŒ.

<br>

```
ğŸ¤” ì˜¤ëŠ˜ ì½ì€ ì†Œê°ì€? ë– ì˜¤ë¥´ëŠ” ìƒê°ì„ ê°€ë³ê²Œ ì ì–´ë³´ì„¸ìš”
```

- í•µì‹¬ì€ 'ëŒì•„ê°€ëŠ” ì†Œí”„íŠ¸ì›¨ì–´'ë¥¼ ê°œë°œí•œ í›„ ê´€ì‹¬ì‚¬ë¥¼ 'ê¹¨ë—í•˜ê³  ì²´ê³„ì ì¸ ì†Œí”„íŠ¸ì›¨ì–´'ë¡œ ëŒë¦¬ëŠ” ê²ƒì´ë‹¤. ì´ ë‘ ë‹¨ê³„ë¥¼ ê±°ì¹˜ë©´ì„œ ê°œë°œí•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ë§ˆì§€ë§‰ì— ë‚¨ëŠ” ê±´ ìŠ¤íŒŒê²Œí‹° ì½”ë“œì´ë‹¤.
- ì‘ì§‘ë„ë¥¼ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì™€ í•¨ìˆ˜ ê°„ì˜ ê´€ê³„ë¡œ í‘œí˜„í•œ ê²ƒì´ ìƒˆë¡œì› ë‹¤. ì˜ˆì‹œê°€ Stack ì½”ë“œë°–ì— ì—†ì–´ ì™„ì „íˆ ì™€ë‹¿ì€ ê²ƒì€ ì•„ë‹ˆì§€ë§Œ ìƒˆë¡œìš´ ê´€ì ì„ ë°°ì› ë‹¤ê³  ìƒê°í•œë‹¤.
- SOLID ì›ì¹™ê³¼ ê´€ë ¨í•œ ë‚´ìš©(ì •í™•í•˜ê²ŒëŠ” SRP, OCP, DIP)ì´ ë‚˜ì™€ì„œ ê¸°ì¡´ì— ì˜¤ë¸Œì íŠ¸ë‚˜ í† ë¹„ì˜ ìŠ¤í”„ë§ìœ¼ë¡œ ê³µë¶€í–ˆë˜ ë‚´ìš©ì„ ë³µìŠµí•  ìˆ˜ ìˆì—ˆë‹¤.

<br>

```
ğŸ” ê¶ê¸ˆí•œ ë‚´ìš©ì´ ìˆê±°ë‚˜, ì˜ ì´í•´ë˜ì§€ ì•ŠëŠ” ë‚´ìš©ì´ ìˆë‹¤ë©´ ì ì–´ë³´ì„¸ìš”
```

- ì—†ìŒ

<br>
