# **TIL (2022.02.06)**

## DAY 17 & DAY 18

ğŸ‡ ì˜¤ëŠ˜ ì½ì€ ë²”ìœ„: (9ì¥) ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

```
ğŸ˜€ ì±…ì—ì„œ ê¸°ì–µí•˜ê³  ì‹¶ì€ ë‚´ìš©ì„ ì¨ë³´ì„¸ìš”
```

- **TDD ë²•ì¹™ ì„¸ ê°€ì§€**

  1.  ì‹¤íŒ¨í•˜ëŠ” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•  ë•Œê¹Œì§€ ì‹¤ì œ ì½”ë“œë¥¼ ì‘ì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.
  2.  ì»´íŒŒì¼ì€ ì‹¤íŒ¨í•˜ì§€ ì•Šìœ¼ë©´ì„œ ì‹¤í–‰ì´ ì‹¤íŒ¨í•˜ëŠ” ì •ë„ë¡œë§Œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤.
  3.  í˜„ì¬ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•  ì •ë„ë¡œë§Œ ì‹¤ì œ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.

  <br>

- **ê¹¨ë—í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ìœ ì§€í•˜ê¸°**

  > í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹¤ì œ ì½”ë“œ ëª»ì§€ ì•Šê²Œ ì¤‘ìš”í•˜ë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹¤ì œ ì½”ë“œ ëª»ì§€ ì•Šê²Œ ê¹¨ë—í•˜ê²Œ ì§œì•¼ í•œë‹¤.

  - ì§€ì €ë¶„í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë‚´ë†“ëŠ” ê²ƒì€ í…ŒìŠ¤íŠ¸ë¥¼ ì•ˆ í•˜ëŠ” ê²ƒë³´ë‹¤ ëª»í•˜ë‹¤.

    - b/c ì‹¤ì œ ì½”ë“œê°€ ì§„í™”í•˜ë©´ í…ŒìŠ¤íŠ¸ ì½”ë“œë„ ë³€í•´ì•¼ í•˜ëŠ”ë° í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì§€ì €ë¶„í• ìˆ˜ë¡ ë³€ê²½í•˜ê¸° ì–´ë ¤ì›Œì§.

  - í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì—†ë‹¤ë©´ **ëª¨ë“  ë³€ê²½ì´ ì ì •ì ì¸ ë²„ê·¸**ë‹¤. ì•„í‚¤í…ì²˜ê°€ ì•„ë¬´ë¦¬ ìœ ì—°í•˜ë”ë¼ë„, ì„¤ê³„ë¥¼ ì•„ë¬´ë¦¬ ì˜ ë‚˜ëˆ´ë”ë¼ë„, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì—†ìœ¼ë©´ ê°œë°œìëŠ” ë³€ê²½ì„ ì£¼ì €í•œë‹¤. ë³€ê²½í•˜ë©´ ë“ë³´ë‹¤ í•´ê°€ ë” í¬ë‹¤ ìƒê°í•´ ë” ì´ìƒ ì½”ë“œë¥¼ ì •ë¦¬í•˜ì§€ ì•Šê³  ì½”ë“œê°€ ë§ê°€ì§€ê¸° ì‹œì‘í•œë‹¤.

  - ì‹¤ì œ ì½”ë“œë¥¼ ì ê²€í•˜ëŠ” ìë™í™”ëœ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ìŠˆíŠ¸ëŠ” ì„¤ê³„ì™€ ì•„í‚¤í…ì³ë¥¼ ìµœëŒ€í•œ ê¹¨ë—í•˜ê²Œ ë³´ì¡´í•˜ëŠ” ì—´ì‡ ë‹¤. í…ŒìŠ¤íŠ¸ëŠ” ìœ ì—°ì„±, ìœ ì§€ë³´ìˆ˜ì„±, ì¬ì‚¬ìš©ì„±ì„ ì œê³µí•œë‹¤. í…ŒìŠ¤íŠ¸ê°€ ìˆìœ¼ë©´ **ë³€ê²½**ì´ ì‰¬ì›Œì§€ê¸° ë•Œë¬¸ì´ë‹¤.

  - í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ê°€ ë†’ì„ìˆ˜ë¡ ì•ˆì‹¬í•˜ê³  ì•„í‚¤í…ì²˜ì™€ ì„¤ê³„ë¥¼ ê°œì„ (ë³€ê²½)í•  ìˆ˜ ìˆë‹¤.

  <br>

- **ê¹¨ë—í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ**

  - ê¹¨ë—í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë§Œë“¤ë ¤ë©´ ê°€ë…ì„±ì´ í•„ìš”í•˜ë‹¤.

  ```
  // Bad Practice

  public void testGetPageHieratchyAsXml() throws Exception {
      crawler.addPage(root, PathParser.parse("PageOne"));
      crawler.addPage(root, PathParser.parse("PageOne.ChildOne"));
      crawler.addPage(root, PathParser.parse("PageTwo"));

      request.setResource("root");
      request.addInput("type", "pages");
      Responder responsder = new SerializedPageResponser();
      SimpleResponse response = (SimpleResponse) responder.makeResponse(...);
      String xml = response.getContent();

      assertEquals("text/xml", response.getContentType());
      assertSubString("<name>PageOne</name>", xml);
      assertSubString("<name>PageTwo</name>", xml);
      assertSubString("<name>ChildOne</name>", xml);
  }

  public void testGetPageHieratchyAsXmlDoesntContainSymbolicLinks() throws Exception {
      WikiPage pageOne = crawler.addPage(root, PathParser.parse("PageOne"));
      crawler.addPage(root, PathParser.parse("PageOne.ChildOne"));
      crawler.addPage(root, PathParser.parse("PageTwo"));

      PageData data = pageOne.getData();
      WikiPageProperties properties = data.getProperties();
      WikiPageProperty symLinks = properties.set(SymbolicPage.PROPERTY_NAME);
      symLinks.set("SymPage", "PageTwo");
      pageOne.commit(data);

      request.setResource("root");
      request.addInput("type", "pages");
      Responder responsder = new SerializedPageResponser();
      SimpleResponse response = (SimpleResponse) responder.makeResponse(...);
      String xml = response.getContent();

      assertEquals("text/xml", response.getContentType());
      assertSubString("<name>PageOne</name>", xml);
      assertSubString("<name>PageTwo</name>", xml);
      assertSubString("<name>ChildOne</name>", xml);
      assertNotSubString("SymPage", xml);
  }
  ```

  ```
  // Good Practice

  public void testGetPageHieratchyAsXml() throws Exception {
      makePages("PageOne", "PageOne.ChildOne", "PageTwo");

      submitRequest("root", "type:pages");

      assertResponseIsXml();
      assertResponseContains("<name>PageOne</name>", "<name>PageTwo</name>", "<name>ChildOne</name>")
  }

  public void testGetPageHieratchyAsXmlDoesntContainSymbolicLinks() throws Exception {
      makePage("PageOne");
      makePages("PageOne.ChildOne", "PageTwo");

      addLinkTo(page, "PageTwo", "SymPage");

      submitRequest("root", "type:pages");

      assertResponseIsXml();
      assertResponseContains("<name>PageOne</name>", "<name>PageTwo</name>", "<name>ChildOne</name>")
      assertResponseDoesNotContain("SymPage");
  }
  ```

  - ì¡ë‹¤í•˜ê³  ì„¸ì„¸í•œ ì½”ë“œë¥¼ ê±°ì˜ ë‹¤ ì—†ì•´ë‹¤. ì´ë¥¼ í†µí•´ ë…ìëŠ” ì˜¨ê°– ì¡ë‹¤í•˜ê³  ì„¸ì„¸í•œ ì½”ë“œì— ì£¼ëˆ… ë“¤ê³  í—·ê°ˆë¦´ í•„ìš” ì—†ì´ ì½”ë“œê°€ ìˆ˜í–‰í•˜ëŠ” ê¸°ëŠ¥ì„ ë¹¨ë¦¬ ì´í•´í•  ìˆ˜ ìˆë‹¤.
  - ìˆ™ë ¨ëœ ê°œë°œìë¼ë©´ ìê¸° ì½”ë“œë¥¼ ì¢€ ë” ê°„ê²°í•˜ê³  í‘œí˜„ë ¥ì´ í’ë¶€í•œ ì½”ë“œë¡œ ë¦¬íŒ©í„°ë§í•´ì•¼ í•œë‹¤.

    <br>

  - í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë‹¨ìˆœí•˜ê³ , ê°„ê²°í•˜ê³ , í‘œí˜„ë ¥ì´ í’ë¶€í•´ì•¼ í•˜ì§€ë§Œ, ì‹¤ì œ ì½”ë“œë§Œí¼ íš¨ìœ¨ì ì¼ í•„ìš”ëŠ” ì—†ë‹¤.

  ```
  // Bad Practice
  // ì˜¨ë„ê°€ ê¸‰ê²©í•˜ê²Œ ë–¨ì–´ì¡Œì„ ë•Œ ê²½ë³´, ì˜¨í’ê¸°, ì†¡í’ê¸°ê°€ ëª¨ë‘ ê°€ë™ë˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œ

  @Test
  public void turnOnLoTempAlertAtThreshold() throws Exception {
      hw.setTemp(WAY_TOO_COLD);
      controller.tic();
      assertTrue(hw.heaterState());
      assertTrue(hw.blowState());
      assertFalse(hw.coolerState());
      assertFalse(hw.hiTempAlarm());
      assertTrue(hw.loTempAlarm());
  }
  ```

  ```
  // Good Practice

  @Test
  public void turnOnLoTempAlertAtThreshold() throws Exception {
      wayTooCold();
      assertEquals("HBchL", hw.getState());    // heater, blower, cooler, ...
  }
  ```

  - ìœ„ ë°©ì‹ì´ ê·¸ë¦‡ëœ ì •ë³´ë¥¼ í”¼í•˜ë¼ ê·œì¹™ì˜ ìœ„ë°˜ì— ê°€ê¹ì§€ë§Œ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œëŠ” ì ì ˆí•  ìˆ˜ ìˆë‹¤.

    - b/c ì˜ë¯¸ë§Œ ì•Œê³  ìˆë‹¤ë©´ ì¬ë¹¨ë¦¬ íŒŒì•…í•  ìˆ˜ ìˆìŒ.

    <br>

  ```
  public String getState() {
      String state = "";
      state += heater ? "H" : "h";
      state += blower ? "B" : "b";
      state += cooler ? "C" : "c";
      ...
      return state;
  }
  ```

  - ìœ„ ì½”ë“œëŠ” íš¨ìœ¨ì ì´ì§€ ëª»í•˜ë‹¤. ì½”ë“œì˜ íš¨ìœ¨ì„ ë†’ì´ë ¤ë©´ StringBufferê°€ ë” ì í•©í•˜ë‹¤. ê·¸ëŸ¬ë‚˜ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œëŠ” ìì›ì´ ì œí•œì ì¸ í™•ë¥ ì´ ë‚®ìœ¼ë¯€ë¡œ íš¨ìœ¨ì„ í¬ê²Œ ê³ ë ¤í•  í•„ìš”ê°€ ì—†ë‹¤.

<br>

- **í…ŒìŠ¤íŠ¸ ë‹¹ assert ë¬¸ ìˆ˜ë¥¼ ìµœëŒ€í•œ ì¤„ì—¬ë¼**

  - í•¨ìˆ˜ í•˜ë‚˜ì— ìµœëŒ€í•œ ì ì€ assertë¬¸ì„ ë„£ëŠ” ê²Œ ì¢‹ë‹¤.

  ```
   // í•˜ë‚˜ì˜ í•¨ìˆ˜ì— í•˜ë‚˜ì˜ assert ë¬¸ë§Œ ë“¤ì–´ê°€ë„ë¡ ë¦¬íŒ©í„°ë§í•œ ì½”ë“œ
   // given-when-then ê´€ë¡€ ì‚¬ìš©

   public void testGetPageHieratchyAsXml() throws Exception {
    givenPages("PageOne", "PageOne.ChildOne", "PageTwo");

    whenRequestIsIssued("root", "type:pages");

    thenResponseShouldBeXML();
    assertResponseContains("<name>PageOne</name>", "<name>PageTwo</name>", "<name>ChildOne</name>")
  }

  public void testGetPageHieratchyHasRightTags() throws Exception {
    givenPages("PageOne", "PageOne.ChildOne", "PageTwo");

    whenRequestIsIssued("root", "type:pages");

    thenResponseShouldContain("<name>PageOne</name>", "<name>PageTwo</name>", "<name>ChildOne</name>")
  }
  ```

  - í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì½ê¸° ì‰¬ì›Œì¡Œì§€ë§Œ ì½”ë“œ ì¤‘ë³µì´ ë§ì•„ì§„ë‹¤. TEMPLATE METHOD íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì¤‘ë³µì„ ì œê±°í•  ìˆ˜ ìˆìœ¼ë‚˜ ë°°ë³´ë‹¤ ë°°ê¼½ì´ í¬ë‹¤.
    <br>â¡ï¸ assert ë¬¸ì´ í•˜ë‚˜ì¸ í•¨ìˆ˜ëŠ” ê²°ë¡ ì´ í•˜ë‚˜ë¼ì„œ ì½”ë“œë¥¼ ì´í•´í•˜ê¸° ì‰½ì§€ë§Œ ë•Œë¡œëŠ” ì—¬ëŸ¬ assert ë¬¸ì´ ë“¤ì–´ê°€ëŠ” ê²Œ ì¢‹ì„ ë•Œë„ ìˆë‹¤.

- **í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ í•˜ë‚˜ëŠ” ê°œë… í•˜ë‚˜ë§Œ í…ŒìŠ¤íŠ¸í•˜ë¼**

  ```
  /**
   * addMonths() ë©”ì„œë“œë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì¥í™©í•œ ì½”ë“œ
   */
  public void testAddMethods() {
      // (5ì›”ì²˜ëŸ¼) 31ì¼ë¡œ ëë‚˜ëŠ” ë‹¬ì˜ ë§ˆì§€ë§‰ ë‚ ì§œê°€ ì£¼ì–´ì§„ ê²½ìš°
      SerialDate d1 = SerialDate.createInstance(31, 5, 2004);

      // (1) 30ì¼ë¡œ ëë‚˜ëŠ” í•œ ë‹¬ì„ ë”í•˜ë©´ ë‚ ì§œëŠ” 30ì¼ì´ ë˜ì–´ì•¼ í•œë‹¤.
      SerialDate d2 = SerialDate.addMonths(1, d1);
      assertEquals(30, d2.getDayOfMonth());
      assertEquals(6, d2.getMonth());

      // (2) ë‘ ë‹¬ì„ ë”í•˜ë©´ ê·¸ë¦¬ê³  ë‘ ë²ˆì§¸ ë‹¬ì´ 31ì¼ë¡œ ëë‚˜ë©´ ë‚ ì§œëŠ” 31ì¼ì´ ë˜ì–´ì•¼ í•œë‹¤.
      SerialDate d3 = SerialDate.addMonths(2, d1);
      assertEquals(31, d3.getDayofMonth());
      assertEquals(7, d3.getMonth());
  }
  ```

  - ìœ„ ì½”ë“œëŠ” ë…ìì ì¸ ê°œë… ë‘ ê°œë¥¼ í…ŒìŠ¤íŠ¸í•˜ë¯€ë¡œ ë…ìì ì¸ í…ŒìŠ¤íŠ¸ ë‘ ê°œë¡œ ìª¼ê°œì•¼ í•œë‹¤.

<br>

- **F.I.R.S.T.**
  1. **Fast(ë¹ ë¥´ê²Œ)**
     - í…ŒìŠ¤íŠ¸ëŠ” ë¹¨ë¼ì•¼ í•œë‹¤.
  2. **Independent(ë…ë¦½ì ìœ¼ë¡œ)**
     - ê° í…ŒìŠ¤íŠ¸ëŠ” ì„œë¡œ ì˜ì¡´í•˜ë©´ ì•ˆëœë‹¤. í•œ í…ŒìŠ¤íŠ¸ê°€ ë‹¤ìŒ í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë  í™˜ê²½ì„ ì¤€ë¹„í•´ì„œëŠ” ì•ˆëœë‹¤. ê° í…ŒìŠ¤íŠ¸ëŠ” ë…ë¦½ì ìœ¼ë¡œ ê·¸ë¦¬ê³  ì–´ë–¤ ìˆœì„œë¡œ ì‹¤í–‰í•´ë„ ê´œì°®ì•„ì•¼ í•œë‹¤.
  3. **Repeatable(ë°˜ë³µê°€ëŠ¥í•˜ê²Œ)**
     - í…ŒìŠ¤íŠ¸ëŠ” ì–´ë–¤ í™˜ê²½ì—ì„œë„ ë°˜ë³µ ê°€ëŠ¥í•´ì•¼ í•œë‹¤. ì‹¤ì œ í™˜ê²½, QA í™˜ê²½, ë²„ìŠ¤ë¥¼ íƒ€ê³  ì§‘ìœ¼ë¡œ ê°€ëŠ” ê¸¸ì— ì‚¬ìš©í•˜ëŠ” ë…¸íŠ¸ë¶ í™˜ê²½ì—ì„œë„ ì‹¤í–‰í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.
  4. **Self-Validation(ìê°€ê²€ì¦í•˜ëŠ”)**
     - í…ŒìŠ¤íŠ¸ëŠ” boolean ê°’ìœ¼ë¡œ ê²°ê³¼ë¥¼ ë‚´ì•¼ í•œë‹¤. í†µê³¼ ì—¬ë¶€ë¥¼ ì•Œë ¤ê³  ë¡œê·¸ íŒŒì¼ì„ ì½ê±°ë‚˜ ìˆ˜ì‘ì—…ìœ¼ë¡œ ë¹„êµí•˜ê²Œ ë§Œë“¤ì–´ì„œëŠ” ì•ˆëœë‹¤.
  5. **Timely(ì ì‹œì—)**
     - í…ŒìŠ¤íŠ¸ëŠ” ì ì‹œì— ì‘ì„±í•´ì•¼ í•œë‹¤. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” í…ŒìŠ¤íŠ¸í•˜ë ¤ëŠ” ì‹¤ì œ ì½”ë“œë¥¼ êµ¬í˜„í•˜ê¸° ì§ì „ì— êµ¬í˜„í•œë‹¤.

<br>

> í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì§€ì†ì ìœ¼ë¡œ ê¹¨ë—í•˜ê²Œ ê´€ë¦¬í•˜ì. í‘œí˜„ë ¥ì„ ë†’ì´ê³  ê°„ê²°í•˜ê²Œ ì •ë¦¬í•˜ì. í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ë°©ì¹˜ë˜ì–´ ë§ê°€ì§€ë©´ ì‹¤ì œ ì½”ë“œë„ ë§ê°€ì§„ë‹¤.

<br>

```
ğŸ¤” ì˜¤ëŠ˜ ì½ì€ ì†Œê°ì€? ë– ì˜¤ë¥´ëŠ” ìƒê°ì„ ê°€ë³ê²Œ ì ì–´ë³´ì„¸ìš”
```

- í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì—†ë‹¤ë©´ ë³€ê²½ì— ì·¨ì•½í•˜ê³  ë³€ê²½ì´ ìœ„í—˜í•  ìˆ˜ë°–ì— ì—†ë‹¤ëŠ” ì‚¬ì‹¤ì— ë§¤ìš° ë™ì˜í•œë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì—†ë‹¤ë©´ ë³€ê²½ì„ ê°€í•œ ë’¤ ë‹¤ë¥¸ ì½”ë“œì—ê¹Œì§€ íŒŒê¸‰ë ¥ì´ ë¯¸ì³¤ëŠ”ì§€ì— ëŒ€í•´ ì•Œ ìˆ˜ ìˆëŠ” ë°©ë„ê°€ ì—†ë‹¤. ê²°êµ­ ì„œë¹„ìŠ¤ ìš´ì˜ ì¤‘ í‘!
- í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ë”ëŸ½ë‹¤ë©´ ìƒì‚°ì„±ì— ì–´ë–»ê²Œë“  ì˜í–¥ì„ ë¯¸ì¹˜ê¸° ë•Œë¬¸ì— í•­ìƒ ê¹¨ë—í•˜ê²Œ ìœ ì§€í•´ì•¼ í•œë‹¤.

  <br>

```
ğŸ” ê¶ê¸ˆí•œ ë‚´ìš©ì´ ìˆê±°ë‚˜, ì˜ ì´í•´ë˜ì§€ ì•ŠëŠ” ë‚´ìš©ì´ ìˆë‹¤ë©´ ì ì–´ë³´ì„¸ìš”
```

- ì—†ìŒ

  <br>

```

```
