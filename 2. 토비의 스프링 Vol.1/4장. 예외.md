# **4장. 예외**

> JdbcTemplate을 대표로 하는 스프링의 데이터 액세스 기능에 담겨 있는 예외처리와 관련된 접근 방법, 예외를 처리하는 베스트 프랙티스를 살펴본다.

<br>

## **4.1. 사라진 SQL Exception**

- 예외를 처리할 때 지켜야 하는 핵심 원칙
  - 모든 예외는 적절하게 복구되거나 작업을 중단시키고 운영자 또는 개발자에게 분명하게 통보돼어야 한다.

<br>

- 초난감 예외처리
  1. 예외 블랙홀
     ```
     try {
         ...
     } catch(SQLException e){
     }
     ```
     - 예외가 발생하면 그것을 catch 블록을 써서 잡아내는 것까지는 좋은데 그리고 아무것도 하지 않고(혹은 콘솔에 찍고) 별문제 없는 것처럼 넘어가는 것은 매우 위험한 일임.
  2. 무의미하고 무책임한 throws

<br>

- 자바에서 throw를 통해 발생시킬 수 있는 예외
  1. Error
     - java.lang.Error 클래스의 서브클래스들
     - 주로 자바 VM에서 발생시키는 것이고 애플리케이션 코드에서 잡으려고 하면 안됨.
     - 따라서 시스템 레벨에서 특별한 작업을 하는 게 아니라면 애플리케이션에서는 이런 에러에 대한 처리는 신경 쓰지 않아도 됨.
  2. 체크 예외
     - 체크 예외가 발생할 수 있는 메서드를 사용할 경우 반드시 예외를 처리하는 코드를 함께 작성해야 함.
     - ex) SQLException, IOException, ...
  3. 언체크/런타임 예외
     - java.lang.RuntimeException 클래스를 상속한 예외들
     - 피할 수 있지만 개발자가 부주의해서 발생할 수 있는 경우 발생하도록 만든 예외이기 때문에 명시적인 예외처리를 강제하지 않음.
     - ex) NullPointerException, IllegalArgumentException, ...

<br>

- 예외처리 방법

  1. 예외 복구
     - 예외상황을 파악하고 문제를 해결해서 정상 상태로 돌려놓는 것
     - 예외처리 코드를 강제하는 체크 예외들은 예외를 어떤 식으로든 복구할 가능성이 있는 경우에 사용함. API를 사용하는 개발자로 하여금 예외상황이 발생할 수 있음을 인식하도록 도와주고 이에 대한 적절한 처리를 시도해보도록 요구하는 것.
  2. 예외처리 회피

     - 예외처리를 자신이 담당하지 않고 자신을 호출한 쪽으로 던져버리는 것
     - throws 문으로 선언해서 예외가 발생하면 알아서 던져지게 하거나 catch 문으로 일단 예외를 잡은 후에 로그를 남기고 다시 예외를 던지는 것

  3. 예외 전환
     - ...
